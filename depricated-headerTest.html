<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="flex flex-col min-h-screen">
    <header class="fs-0 p-0 m-0 flex justify-between items-center p-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg">
        <div class="sm:hidden"></div>
        <img src="/pictures/logo.svg" alt="Logo" class="h-20 -p-2 -my-2">
        <h1 class="text-3xl font-bold hidden sm:block"><a href="/tricks">The Circus Database</a></h1>
        <div class="flex flex-row">
        <div class="w-fit">
            <button id="menu-toggle" class="sm:hidden text-white focus:outline-none relative h-8 w-8 transform transition-all duration-500 ease-in-out overflow-visible">
                
                <span class="absolute h-1 w-6 bg-white rounded-lg transform transition-all duration-1000 ease-in-out" style="top: 30%; left: 10%"></span>
                <span class="absolute h-1 w-6 bg-white rounded-lg transform transition-all duration-1000 ease-in-out" style="top: 50%; left: 10%"></span>
                <span class="absolute h-1 w-6 bg-white rounded-lg transform transition-all duration-1000 ease-in-out" style="top: 70%; left: 10%"></span>
            </button>
        </div>
        <nav id="menu" class="hidden sm:block transition-all duration-300 ease-in-out">
            <ul class="flex flex-col sm:flex-row sm:space-x-4">
                <li><a href="/tricks" class="hover:underline">Tricks</a></li>
                <li><a href="/create-trick" class="hover:underline">Create trick</a></li>
                <li><a href="/friends" class="hover:underline">Friends</a></li>
                <li><a href="/logout" class="hover:underline">Logout</a></li>
            </ul>
        </nav>
        </div>
    </header>
    <script>
        const menuToggle = document.getElementById('menu-toggle');
        const menu = document.getElementById('menu');
        const spans = menuToggle.querySelectorAll('span');

        

        menuToggle.addEventListener('click', () => {
            
            const menuToggleStartPosition = menuToggle.getBoundingClientRect();
            
            menu.classList.toggle('hidden');

            const menuToggleEndPosition = menuToggle.getBoundingClientRect();
            const deltaX = menuToggleStartPosition.x - menuToggleEndPosition.x;
            const deltaY = menuToggleStartPosition.y - menuToggleEndPosition.y;
            //menuToggle.style.transition = 'transform 0s ease-in-out';
            menuToggle.style.transition = 'transform 0.5s ease-in-out';
            menuToggle.style.position = 'absolute';
            menuToggle.style.left = `${menuToggleStartPosition.left}px`;
            menuToggle.style.top = `${menuToggleStartPosition.top}px`;
            menuToggle.style.transform = `translate(-${deltaX}px, -${deltaY}px)`;
            console.log(deltaX, deltaY);
            menuToggle.style.position = 'auto';
            // menuToggle.style.transform = `translate(-${deltaX}px, -${deltaY}px)`;

            // animate the hamburger icon
            if (menuToggle.classList.contains('menu-open')) {
                menuToggle.classList.remove('menu-open');
                // Reset to hamburger
                spans[0].style.transform = 'translateY(0) rotate(0)';
                spans[1].style.opacity = '1';
                spans[2].style.transform = 'translateY(0) rotate(0)';
                
                // Remove classes after animation completes
                setTimeout(() => {
                    spans[0].classList.remove('rotate-45');
                    spans[1].classList.remove('opacity-0');
                    spans[2].classList.remove('-rotate-45');
                }, 1000);
            } else {
                menuToggle.classList.add('menu-open');

                spans.forEach(span => {
                    span.style.transition = 'transform 0.5s ease-in, opacity 0.5s ease-in-out';
                });
                // Animate to X
                // First span: move down and rotate 45 degrees
                spans[0].style.transform = 'translateY(6px)'//' rotate(45deg)';
                // Middle span: fade out
                spans[1].style.opacity = '0';
                // Last span: move up and rotate -45 degrees
                spans[2].style.transform = 'translateY(-6px)' //rotate(-45deg)';
                
                setTimeout(() => {
                    spans.forEach(span => {
                        span.style.transition = 'transform 0.5s ease-out, opacity 0.5s ease-in-out';
                    });
                    spans[0].style.transform = 'translateY(6px) rotate(45deg)';
                    spans[1].style.opacity = '0';
                    spans[2].style.transform = 'translateY(-6px) rotate(-45deg)';
                    // Add classes for state tracking
                    spans[0].classList.add('rotate-45');
                    spans[1].classList.add('opacity-0');
                    spans[2].classList.add('-rotate-45');

                }, 500);

                }
            
        });
    </script>
    <div class="p-4 min-h-screen">
        <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Voluptates rem at unde eius, laboriosam eligendi laborum repellendus illum, fuga consequatur magnam nemo neque excepturi, aliquam obcaecati tempore. Dolores, temporibus ut. Lorem ipsum dolor sit amet consectetur adipisicing elit.
            Quisquam, voluptatibus. Quod, cumque. Quasi, doloremque. Repudiandae, voluptatibus. Quisquam, voluptatibus. Quod, cumque. Quasi, doloremque. Repudiandae, voluptatibus. Quisquam, voluptatibus. Quod, cumque. Quasi, doloremque. Repudiandae, voluptatibus. Quisquam, voluptatibus. Quod, cumque. Quasi, doloremque. Repudiandae, voluptatibus.
            5 Lorem ipsum dolor sit amet consectetur adipisicing elit. Eligendi autem sint, exercitationem quisquam nesciunt suscipit porro atque velit assumenda vitae veniam nobis excepturi expedita dolores debitis architecto ratione minus voluptas?
        </p>
    </div>
    <footer class="p-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg">
        <p>&copy; 2025 The Circus Database</p>
    </footer>
</body>
</html>